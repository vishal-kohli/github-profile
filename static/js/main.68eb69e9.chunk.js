(this["webpackJsonpgithub-profile"]=this["webpackJsonpgithub-profile"]||[]).push([[0],{22:function(e,a,t){},26:function(e,a,t){e.exports=t(49)},31:function(e,a,t){},32:function(e,a,t){},33:function(e,a,t){},39:function(e,a,t){},41:function(e,a,t){},42:function(e,a,t){},45:function(e,a,t){},46:function(e,a,t){},47:function(e,a,t){},48:function(e,a,t){},49:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(23),c=t.n(l),s=(t(31),t(6)),o=(t(32),t(33),t(10)),u=t(1),i={403:"Not allowed to access request resource",404:"User was not found in database"},m="Username entered is not valid",d="Something went wrong. Check back later";var p=Object(u.g)((function(e){var a=Object(u.f)(),t=Object(n.useState)({data:null,error:null}),l=Object(s.a)(t,2),c=l[0],p=l[1];return Object(n.useEffect)((function(){null!=c.data&&(e.setUserData(c),a.push("/user?username="+c.data.login))})),r.a.createElement("div",{className:"mainHomepageContainer"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault();var a=document.getElementById("usernameInput");null===a.value||""===a.value.trim()?function(e){e.value="",e.classList.add("shakeAnimation"),p({data:null,error:m}),setTimeout((function(){e.classList.remove("shakeAnimation")}),300)}(a):function(e){var a={data:null,error:null};fetch("https://api.github.com/users/".concat(e)).then((function(e){return e.json().then((function(t){200===e.status?a.data=t:e.status in i?a.error=i[e.status]:a.error=d,p(a)}))})).catch((function(){a.error=d,p(a)}))}(a.value.trim())}},r.a.createElement(o.b,{icon:o.a,verticalAlign:"middle",size:"large"}),r.a.createElement("label",null,"Enter GitHub Username:"),r.a.createElement("input",{id:"usernameInput",type:"text",autoComplete:"off",onChange:function(){return p({data:null,error:null})}}),null!==c.error&&r.a.createElement("p",{className:"errorMessage"},c.error),null==c.error&&r.a.createElement("p",{className:"hintText"},"Try 'Google'")))}));t(39);var f=t(18),g=t.n(f),b=t(19),v=t(25);t(41),t(42);var E=function(e){var a=e.error;return r.a.createElement("div",{className:"mainErrorContainer"},r.a.createElement("div",null,r.a.createElement(o.b,{icon:o.a,verticalAlign:"middle",size:"large"}),r.a.createElement("p",null,a),r.a.createElement("p",{className:"RedirectMessage"},"Redirecting you to homepage in 3 seconds."," ")))},h=t(13),N=t(14),j=t.n(N),x=(t(45),t(22),["rgba(255, 99, 132, 0.8)","rgba(54, 162, 235, 0.8)","rgba(255, 206, 86, 0.8)","rgba(75, 192, 192, 0.8)","rgba(153, 102, 255, 0.8)","rgba(255, 159, 64, 0.8)"]),O=(t(46),function(e){return{type:e.type,data:e.data,options:e.options}});var w=function(e){var a=e.languageData,t=e.totalRepos;return Object(n.useEffect)((function(){if(!a.loading&&null!==a.data){var e,n=[],r=[],l=[],c=0,o=Object(h.a)(a.data);try{for(o.s();!(e=o.n()).done;){var u=Object(s.a)(e.value,2),i=u[0],m=u[1],d=(m/t*100).toFixed(1);if(r.push(i+" "+d+"%"),n.push(m),l.push(x[c]),++c>=5)break}}catch(g){o.e(g)}finally{o.f()}var p=document.getElementById("pieChart").getContext("2d"),f={type:"doughnut",data:{datasets:[{data:n,backgroundColor:l}],labels:r},options:{legend:{position:"right",align:"start"}}};new j.a(p,O(f))}})),r.a.createElement("div",{className:"pieChartContainer"},r.a.createElement("header",null,"5 Most Used Languages"),a.loading&&r.a.createElement("div",{className:"loader"}),!a.loading&&null!==a.data&&r.a.createElement("canvas",{id:"pieChart"}),!a.loading&&null===a.data&&r.a.createElement("p",{className:"noData"},"No data available"))};t(47);var C=function(e){var a=e.starredData;return Object(n.useEffect)((function(){if(console.log(a),!a.loading&&null!==a.data){var e,t=document.getElementById("barChart").getContext("2d"),n=[],r=[],l=[],c=0,o=Object(h.a)(a.data);try{for(o.s();!(e=o.n()).done;){var u=Object(s.a)(e.value,2),i=u[0],m=u[1];if(n.push(i),r.push(m),l.push(x[c]),++c>=5)break}}catch(p){o.e(p)}finally{o.f()}var d=O({type:"bar",data:{labels:n,datasets:[{data:r,backgroundColor:l,minBarLength:2}]},options:{legend:{display:!1}}});new j.a(t,d)}})),r.a.createElement("div",{className:"barChartContainer"},r.a.createElement("header",null,"5 Most Starred Repos"),a.loading&&r.a.createElement("div",{className:"loader"}),!a.loading&&null!==a.data&&r.a.createElement("canvas",{id:"barChart"}),!a.loading&&null===a.data&&r.a.createElement("p",{className:"noData"},"No data available"))};t(48);var D=function(e){var a=e.userData;return r.a.createElement("div",{className:"mainUserDataContainer"},a.avatar_url&&r.a.createElement("div",{className:"userPicture"},r.a.createElement("img",{src:a.avatar_url,alt:"avatar"})),a.name&&r.a.createElement("h1",null,a.name),a.login&&r.a.createElement("h2",null,r.a.createElement("a",{href:a.html_url,rel:"noopener noreferrer",target:"_blank"},a.login)),a.created_at&&r.a.createElement("p",null,"Joined"," ",new Date(a.created_at).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})),r.a.createElement("div",{className:"userStatistics"},r.a.createElement("div",{className:"statBox"},r.a.createElement("span",{className:"statBoxNum"},a.public_repos.toLocaleString()),r.a.createElement("span",{className:"statBoxLabel"},"Repositories")),r.a.createElement("div",{className:"statBox"},r.a.createElement("span",{className:"statBoxNum"},a.followers.toLocaleString()),r.a.createElement("span",{className:"statBoxLabel"},"Followers")),r.a.createElement("div",{className:"statBox"},r.a.createElement("span",{className:"statBoxNum"},a.following.toLocaleString()),r.a.createElement("span",{className:"statBoxLabel"},"Following"))))};var y=function(e){var a=Object(u.f)(),t=Object(n.useState)({data:null,loading:!1}),l=Object(s.a)(t,2),c=l[0],o=l[1],m=Object(n.useState)({data:null,loading:!1}),p=Object(s.a)(m,2),f=p[0],h=p[1],N=Object(n.useState)({data:null,error:null}),j=Object(s.a)(N,2),x=j[0],O=j[1];Object(n.useEffect)((function(){x.error&&setTimeout((function(){a.push("/")}),3e3)}));var y=function(){var e=Object(v.a)(g.a.mark((function e(a,t){var n,r,l,c,s,u,i,m,p,f,v,E,N,j;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new Map,r=new Map,l=t,c=1,s=!1;case 5:if(!(l>0)||s){e.next=31;break}return o({data:null,loading:!0}),h({data:null,loading:!0}),e.prev=8,e.next=11,fetch(a+"?page=".concat(c,"&per_page=100"));case 11:if(200===(u=e.sent).status){e.next=17;break}O({data:null,error:d}),s=!0,e.next=23;break;case 17:return e.next=19,u.json();case 19:for(i=e.sent,m=0;m<i.length;m++)p=i[m].language,f=i[m].stargazers_count,v=i[m].name,p&&""!==p.trim()&&(n.has(p)?(E=n.get(p),n.set(p,E+1)):n.set(p,1)),null!==f&&void 0!==f&&null!=v&&void 0!==v&&r.set(v,f);l-=i.length,c++;case 23:e.next=29;break;case 25:e.prev=25,e.t0=e.catch(8),O({data:null,error:d}),s=!0;case 29:e.next=5;break;case 31:N=new Map(Object(b.a)(n.entries()).sort((function(e,a){return a[1]-e[1]}))),j=new Map(Object(b.a)(r.entries()).sort((function(e,a){return a[1]-e[1]}))),o({data:N,loading:!1}),h({data:j,loading:!1});case 35:case"end":return e.stop()}}),e,null,[[8,25]])})));return function(a,t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){var a=new URLSearchParams(window.location.search).get("username");if(e.userData&&a&&""!==a.trim()){O(e.userData);var t=e.userData.data.repos_url,n=e.userData.data.public_repos;null!=t&&""!==t.trim()&&y(t,n)}else null===e.userData&&null!==a&&""!==a.trim()?function(e){var a={data:null,error:null};fetch("https://api.github.com/users/".concat(e)).then((function(e){return e.json().then((function(t){200===e.status?a.data=t:e.status in i?a.error=i[e.status]:a.error=d,O(a),null!==a.data&&y(a.data.repos_url,a.data.public_repos)}))})).catch((function(){a.error=i[0],O(a)}))}(a):O({data:null,error:d})}),[]),r.a.createElement("div",{className:"MainResultPageContainer"},x.error&&r.a.createElement(E,{error:x.error}),x.data&&r.a.createElement(r.a.Fragment,null,r.a.createElement(D,{userData:x.data})),x.data&&r.a.createElement("div",{className:"chartContainer"},r.a.createElement(w,{languageData:c,totalRepos:x.data.public_repos}),r.a.createElement(C,{starredData:f})))},k=t(12);var S=function(){var e=Object(n.useState)(null),a=Object(s.a)(e,2),t=a[0],l=a[1];return r.a.createElement("div",{className:"App"},r.a.createElement(k.a,null,r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/"},r.a.createElement(p,{setUserData:l})),r.a.createElement(u.a,{exact:!0,path:"/user"},r.a.createElement(y,{userData:t})))))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.68eb69e9.chunk.js.map